<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">

<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <meta name="description" content="" />
  <meta name="author" content="" />

  <title>The Witch</title>

  <!-- Custom fonts for this template-->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous" />
  <link href="vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css" />
  <link href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet" />

  <!-- Custom styles for this template-->
  <link href="css/sb-admin-2.css" rel="stylesheet" />

  <!-- favicon -->
  <link rel="shortcut icon" type="image/png" href="favicon.png" />
</head>

<body id="page-top">

  <!-- Page Wrapper -->
  <div id="wrapper">

    <!-- Sidebar -->
    <ul class="navbar-nav bg-gradient-secondary sidebar sidebar-dark accordion" id="accordionSidebar">

      <!-- Sidebar - Brand -->
      <!-- <li> -->
      	<!-- <a href="index.html" target="_blank"> -->
	  <img src="img/WitchLogo.svg" alt="The Witch" />
	  <!-- <div class="sidebar-brand-text mx-3">The Witch</div> -->
      	<!-- </a> -->
      <!-- </li> -->
      
      <li class="nav-item">
        <a class="nav-link" href="index.html">
          <i class="fas fa-fw fa-cog"></i>
        <span>Dashboard</span></a>
      </li>

      <!-- Divider -->
      <hr class="sidebar-divider my-0" />

      <li class="nav-item">
        <a class="nav-link" href="restore.html">
          <i class="fas fa-fw fa-cog"></i>
        <span>Restore</span></a>
      </li>

      <li class="nav-item active" aria-current="page">
        <a class="nav-link" href="instructions.html">
          <i class="fas fa-fw fa-info"></i>
        <span>Instructions</span></a>
      </li>
      
      <li class="nav-item">
        <a class="nav-link" href="about.html">
          <i class="fas fa-fw fa-info"></i>
        <span>About</span></a>
      </li>

      <!-- Sidebar Toggler (Sidebar) -->
      <div class="text-center d-none d-md-inline">
        <button class="rounded-circle border-0" id="sidebarToggle"></button>
      </div>

      <!-- Sidebar Message -->
      <div class="sidebar-card d-none d-lg-flex">
	<a href="https://www.rebeltech.org" target="_blank">
          <img class="sidebar-card-illustration mb-2" src="img/RebelCircular.svg" alt="Rebel Technology" />
	</a>
        <p class="text-center mb-2"><strong>Rebel Technology</strong></p>
        <a class="btn btn-secondary btn-sm" href="https://www.rebeltech.org" target="_blank">Visit Website</a>
      </div>

    </ul>
    <!-- End of Sidebar -->

    <!-- Content Wrapper -->
    <div id="content-wrapper" class="d-flex flex-column">

      <!-- Main Content -->
      <div id="content">

        <!-- Topbar -->
        <nav class="navbar navbar-expand navbar-light bg-white topbar mb-4 static-top shadow">
          <!-- Sidebar Toggle (Topbar) -->
          <button id="sidebarToggleTop" class="btn btn-link d-md-none rounded-circle mr-3">
            <i class="fa fa-bars"></i>
          </button>
          <!-- Topbar Navbar -->
          <ul class="navbar-nav ml-auto">
            <li class="nav-item">
	      <p id="patcherror">&nbsp;</p>
	    </li>
            <div class="topbar-divider d-none d-sm-block"></div>
            <li class="nav-item">
	      <p id="patchmessage">&nbsp;</p>
	    </li>
            <div class="topbar-divider d-none d-sm-block"></div>
            <li class="nav-item">
	      <p id="ourstatus">Not Connected</p>
	    </li>
          </ul>
        </nav>
        <!-- End of Topbar -->

        <!-- Begin Page Content -->
        <div class="container-fluid">

	  <div class="card card-body">
	    <img src="img/WitchSystemControls.svg" alt="Witch System Controls" class="img-fluid" width="800"/>
	  </div>

	  <div class="card card-body">
	    <h3>Specifications</h3>
	    <ul>
	      <li>Analog to Digital Conversion: 48k Hz, 24 bits</li>
	      <li>Digital to Analog Conversion: 48k Hz, 24 bits</li>
	      <li>USB Audio output: 48k Hz, 16 bits</li>
	      <li>Audio Processing: 48k Hz, 32 bits</li>
	      <li>ARM Cortex M4 microcontroller at 168Mhz</li>
	      <li>8 Megabyte non-volatile patch and sample storage</li>
	      <li>8 Megabyte audio RAM buffers</li>
	      <li>CV and trigger inputs: 0 to 5V, Eurorack compatible</li>
	      <li>CV and trigger outputs: 0 to 5V, Eurorack compatible</li>
	      <li>Stereo input: Line level, 100k Ohm Impedance</li>
	      <li>Stereo output: Headphone / line level, 22 Ohm Impedance</li>
	    </ul>
	  </div>

	  <div class="card card-body">
	    <h3>Expression vs Performance</h3>
	    <div>
	      The Expression version of each patch provides continuous pitch control on parameter A, and supports MPE controllers (MIDI Polyphonic Expression).
The Performance version has discrete pitch control on parameter A, supports regular MIDI controllers, and allows for sustained polyphonic voicings without the use of a controller.
	    </div>
	  </div>

	  <div class="card card-body">
	    <h3>Takeover Controls</h3>
	    <div>
	      If the parameter value does not correspond with the current knob position then the LED above the knob will be fully lit. This can happen if the knob has been moved with the Mode button down, or if the parameter value has been changed over MIDI.
	    </div>
	    <div>
	    In essence, each knob serves a dual purpose, and the Mode button determines which one is active. To prevent snap-back when the button is released, or inadvertently changing a setting, we only update the value when it aligns with the knob position. This is what is known as takeover logic. When a parameter is in <strong>takeover</strong>, that is to say, its present value is different from the one indicated by the knob, we indicate this with the LED above it (or the two LEDs above it, in the case of knob E).
	    </div>
	    <div>To take back control, turn the knob until it matches the parameter value. The LED will then return to normal function.</div>
	    <div>The patch parameters can be controlled by MIDI. Changing a parameter value by MIDI will also put the knob in takeover mode. The MIDI Control Change messages to set the parameter values are:</div>
	    <pre>
CC75 Control Parameter A
CC76 Control Parameter B
CC77 Control Parameter C
CC78 Control Parameter D
CC79 Control Parameter E</pre>
	  </div>

	  <div class="card card-body">
	    <h3>Mode Functions</h3>
	    <img src="img/WitchModeControls.svg" alt="Witch Mode Functions" class="img-fluid" width="800"/>
	    <div>With the Mode Button pressed down the knobs and buttons have alternate functions:</div>
	    <div>The buttons change patches, knob E changes the output volume, and knobs A to D changes the associated CV attenuation.</div>
	  </div>

	  <div class="card card-body">
	    <h3>Changing Patches</h3>
	    <div>
	      To change patches on the device, simply press and hold the Mode button. The currently active patch slot will be indicated on the buttons, in yellow for patches 1 to 4, and red for patches 5 to 8. Press a button to select the new patch. To toggle between red and yellow (high and low patch slot numbers), press again. Release the Mode button to start the new patch.
	    </div>
	    <div class="container-sm">
	      <img src="img/PatchNumbers.png" class="img-fluid" width="326" alt="Patch Numbering" />
	    </div>
	    <div>Note: be careful to disconnect or deactivate any external triggers before pressing the Mode button, or you may inadvertently change patches!</div>
	    <div>You can also change the active patch by sending the device a MIDI Program Change (aka PC) message, or pressing one of the buttons below:</div>

	    <div class="input-group mb-3 row">
	      <label class="input-group-text col-4">SubTract Expression</label>
	      <button class="btn btn-outline-secondary col" type="button" onclick="selectOwlPatch(1)">Slot 1</button>
	    </div>
	    <div class="input-group mb-3 row">
	      <label class="input-group-text col-4">Vosim Expression</label>
	      <button class="btn btn-outline-secondary col" type="button" onclick="selectOwlPatch(2)">Slot 2</button>
	    </div>
	    <div class="input-group mb-3 row">
	      <label class="input-group-text col-4">WaveBank Expression</label>
	      <button class="btn btn-outline-secondary col" type="button" onclick="selectOwlPatch(3)">Slot 3</button>
	    </div>
	    <div class="input-group mb-3 row">
	      <label class="input-group-text col-4">QuadSampler Expression</label>
	      <button class="btn btn-outline-secondary col" type="button" onclick="selectOwlPatch(4)">Slot 4</button>
	    </div>
	    <div class="input-group mb-3 row">
	      <label class="input-group-text col-4">SubTract Performance</label>
	      <button class="btn btn-outline-secondary col" type="button" onclick="selectOwlPatch(5)">Slot 5</button>
	    </div>
	    <div class="input-group mb-3 row">
	      <label class="input-group-text col-4">Vosim Performance</label>
	      <button class="btn btn-outline-secondary col" type="button" onclick="selectOwlPatch(6)">Slot 6</button>
	    </div>
	    <div class="input-group mb-3 row">
	      <label class="input-group-text col-4">WaveBank Performance</label>
	      <button class="btn btn-outline-secondary col" type="button" onclick="selectOwlPatch(7)">Slot 7</button>
	    </div>
	    <div class="input-group mb-3 row">
	      <label class="input-group-text col-4">QuadSampler Performance</label>
	      <button class="btn btn-outline-secondary col" type="button" onclick="selectOwlPatch(8)">Slot 8</button>
	    </div>

	  </div>

	  <div class="card card-body">
	    <h3>Changing Output Volume</h3>
	    <div>
	      To change the output volume, first press and hold the Mode button. Then turn knob E until the two middle LEDs are no longer lit. While still holding down the Mode button, turn knob E to the required volume setting then release the Mode button. The two middle LEDs will light up again, to indicate that parameter E is in takeover mode. Turn the E knob again until the LEDs resume their normal function of indicating the CV output levels.
	    </div>
	    <div>You can also set the output volume with MIDI CC7, the Volume controller.</div>
 	  </div>

	  <div class="card card-body">
	    <h3>Changing CV Attenuation</h3>
	    <div>
	      Pressing the Mode button also allows you to adjust the CV attenuation for each of the CV inputs A to D. Press and hold the Mode button, then turn the knob corresponding to the CV that you want to adjust. When the knob reaches the current attenuation value (default is around the 2 o'clock position) then the LED light will go out. You can now turn the knob up or down to the attenuation level you want. Centre position means 0 gain (full attenuation). Turn it clockwise for up to 2x gain, or anti-clockwise for up to -2x inverted gain.
	    </div>
	    <div>When you release the mode button, the LED corresponding to the adjusted parameter (or parameters) will again light up, until the knob is moved back to the previous position.
	    </div>
	    <div>The CV attenuation for each parameter can also be set by MIDI. Values from 63 to 127 sets a positive amount of gain, up to 2x. Below 63 to 0 sets an inverted gain, down to -2x. A value of 97 sets 1V/Octave, 5V CV range. The MIDI controls are:</div>
	    <pre>
CC83 CV Attenuverter A
CC84 CV Attenuverter B
CC85 CV Attenuverter C
CC86 CV Attenuverter D
	    </pre>	    
	  </div>

	  
	  <div class="card card-body">
	    <h3>Progress Indication</h3>
	    <div>When the device is busy, for example loading a patch or resource, the top row of LEDs will indicate progress by lighting up from left to right.</div>
	    <object data="img/WitchProgressStatus.svg" type="image/svg+xml" class="img-fluid" width="800">
	      <img src="img/WitchProgressStatus.svg" alt="Witch Progress Status"/>
	    </object>
	  </div>
	  <div class="card card-body">
	    <h3>Error Indication</h3>
	    <div>In case of an error, the Witch flashes the top row lights, alternating between the middle two and the flanking lights.</div>
	    <object data="img/WitchErrorStatus.svg" type="image/svg+xml" class="img-fluid" width="800">
	      <img src="img/WitchErrorStatus.svg" alt="Witch Error Status"/>
	    </object>
	    <div>Usually the cause of the error can be found in a message at the top of e.g. this page, or the <a href="index.html">Dashboard</a> page. To exit error mode, select or load a new patch, or simply press the Mode button to suppress the blinking.</div>
	  </div>
	  <div class="card card-body">
	    <h3>Bootloader Indication</h3>
	    <div>A third type of indication is given by the bootloader, which alternates the middle F and G lights when it is activated, and when it is loading or storing a firmware image.</div>
	    <object data="img/WitchBootStatus.svg" type="image/svg+xml" class="img-fluid" width="800">
	      <img src="img/WitchBootStatus.svg" alt="Witch Boot Status"/>
	    </object>
	    <div>Entering bootloader mode happens if the Mode button is held down on startup, or if an unrecoverable error has occurred. To exit the bootloader, reset the device.</div>
	  </div>

	  <div class="card card-body">
	    <h3>MIDI Implementation Chart</h3>
	    <pre>
Control Change Messages Received:
	PATCH_PARAMETER_A:     CC20
	PATCH_PARAMETER_B:     CC21
	PATCH_PARAMETER_C:     CC22
	PATCH_PARAMETER_D:     CC23
	PATCH_PARAMETER_E:     CC24

        FX_AMOUNT:             CC24
	WAVESHAPE:             CC13
	STEREO_MIX:            CC13
	ATTACK:                CC75
	DECAY:                 CC76
	SUSTAIN:               CC77
	RELEASE:               CC78
	ATTACK_CURVE:          CC79
	RELEASE_CURVE:         CC80
	EXTL_AMOUNT:           CC81
	EXTR_AMOUNT:           CC82

	ATTENUATE_A:           CC83
	ATTENUATE_B:           CC84
	ATTENUATE_C:           CC85
	ATTENUATE_D:           CC86

	LFO1_SHAPE:            CC87
	LFO2_SHAPE:            CC88

	FX_SELECT:             CC89
	VOLUME:                CC7
	MODULATION:            CC1

MIDI Polyphonic Expression Messages Received:
	PITCH_BEND/X           PB
        BRIGHTNESS/Y           CC74
	PRESSURE/Z             AT/CP

Registered Parameters Received:
	Pitch Bend Range:      RPN0
	MPE Configuration:     RPN6
	RPN Reset:             RPN3fff
	    </pre>
	  </div>

	  <div class="card card-body">
	    <h3>MIDI Polyphonic Expression</h3>
	    <p>The Expression version of the patches support MPE controllers (MIDI Polyphonic Expression). When the patch is selected, the MCM (MPE Configuration Message) is sent. The MCM configures the master channel, and the number of available voices. The Witch will also respond correctly to a received MCM to configure high or low master channel (Upper or Lower Zone), though the number of available voices is fixed. Pitch range defaults to 2 semitones for Zone Level, and 48 semitones for Note Level. Both ranges can be reconfigured with Pitch Bend Sensitivity RPN messages.</p>
	  </div>

	</div>
	<!-- End of Page Content-->
      </div>
      <!-- End of Main Content -->

    </div>
    <!-- End of Content Wrapper -->

  </div>
  <!-- End of Page Wrapper -->

  <!-- Footer -->
  <footer class="sticky-footer bg-white">
    <div class="container my-auto">
      <div class="copyright text-center my-auto">
	<span>Copyright &copy; Rebel Technology 2021</span>
      </div>
    </div>
  </footer>
  <!-- End of Footer -->

  <!-- Scroll to Top Button-->
  <a class="scroll-to-top rounded" href="#page-top">
    <i class="fas fa-angle-up"></i>
  </a>

  <!-- Bootstrap core JavaScript-->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>	    
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4" crossorigin="anonymous"></script>
  
  <!-- Core plugin JavaScript-->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.4.1/jquery.easing.min.js" integrity="sha512-0QbL0ph8Tc8g5bLhfVzSqxe9GERORsKhIn1IrpxDAgUsbBGz/V7iSav2zzW325XGd1OMLdL4UiqRJj702IeqnQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

  <script src="https://cdn.jsdelivr.net/npm/nexusui@2.1.6/dist/NexusUI.js"></script>
  <script src="js/sb-admin-2.js"></script>

  <script src="js/OpenWareMidiControl.js"></script>
  <script src="js/midiclient.js"></script>
  <script src="js/owlcmd.js"></script>
  <script src="js/restore.js"></script>

</body>

</html>
